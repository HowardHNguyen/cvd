# -*- coding: utf-8 -*-
"""app.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1ebdsi6xiiE4m8jY6FYiCgywDKogpdryi
"""

import streamlit as st
import pandas as pd
import joblib

# Load models
rf_model = joblib.load('rf_model.pkl')
gbm_model = joblib.load('gbm_model.pkl')

# App title
st.title('Cardiovascular Disease Prediction')

# User input fields
age = st.number_input('Age', min_value=1, max_value=120, value=25)
totchol = st.number_input('Total Cholesterol', min_value=100, max_value=400, value=200)
sysbp = st.number_input('Systolic Blood Pressure', min_value=90, max_value=200, value=120)
diabp = st.number_input('Diastolic Blood Pressure', min_value=60, max_value=120, value=80)
bmi = st.number_input('BMI', min_value=10.0, max_value=50.0, value=25.0)
cursmoke = st.selectbox('Current Smoker', [0, 1])
glucose = st.number_input('Glucose', min_value=50, max_value=200, value=100)
diabetes = st.selectbox('Diabetes', [0, 1])
heartrate = st.number_input('Heart Rate', min_value=40, max_value=180, value=70)
cigpday = st.number_input('Cigarettes Per Day', min_value=0, max_value=100, value=0)
bpmeds = st.selectbox('On BP Meds', [0, 1])
stroke = st.selectbox('Stroke', [0, 1])
hyperten = st.selectbox('Hypertension', [0, 1])

# Create dataframe for prediction
input_data = pd.DataFrame({
    'AGE': [age],
    'TOTCHOL': [totchol],
    'SYSBP': [sysbp],
    'DIABP': [diabp],
    'BMI': [bmi],
    'CURSMOKE': [cursmoke],
    'GLUCOSE': [glucose],
    'DIABETES': [diabetes],
    'HEARTRTE': [heartrate],
    'CIGPDAY': [cigpday],
    'BPMEDS': [bpmeds],
    'STROKE': [stroke],
    'HYPERTEN': [hyperten]
})

# Predict using the models
rf_pred = rf_model.predict(input_data)[0]
gbm_pred = gbm_model.predict(input_data)[0]

# Display the predictions
st.subheader('Predictions')
st.write(f'Random Forest Prediction: {"CVD" if rf_pred else "No CVD"}')
st.write(f'Gradient Boosting Machine Prediction: {"CVD" if gbm_pred else "No CVD"}')